<!DOCTYPE html>
<!-- saved from url=(0046)http://evanribey.com/visualizations/bar-chart/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
	<title>Vertical Bar Chart</title>
	<style type="text/css">
		body {
			font: 11px sans-serif;
			padding: 10px 5%;
		}

		p {
			font-size: 140%;
		}

		.container {
			border: 1px solid #ccc;
			margin: 0 auto;
			position: relative;
			text-align: center;
			vertical-align: middle;
			width: 960px;
		}

		.vector {
			display: inline-block;
		}

		.bar {
			transition: 0.3s;
		}

		.bar:hover {
			fill: brown;
		}

		.x.axis path {
			display: none;
		}

	</style>
	<script src="./Vertical Bar Chart_files/d3.v4.min.js"></script>
</head>
<body>
<h1>Vertical Bar Chart</h1>
<p>A vertical bar representation of the previous data seen in <a href="http://evanribey.com/visualizations/donut/">the donut chart</a>. This is a slightly better representation of the same data as it allows for better comparison of the bars side by side. Furthermore you can better see the count and percentage data for each bar based on the appropriate axis.</p>
<div class="container"><svg class="vector" height="500" width="700"><g transform="translate(40,20)"><g class="x axis" transform="translate(0,450)" fill="none" font-size="10" font-family="sans-serif" text-anchor="middle"><path class="domain" stroke="#000" d="M0.5,6V0.5H620.5V6"></path><g class="tick" opacity="1" transform="translate(60.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">Kiowa</text></g><g class="tick" opacity="1" transform="translate(160.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">Chinese</text></g><g class="tick" opacity="1" transform="translate(260.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">South American</text></g><g class="tick" opacity="1" transform="translate(360.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">Latin American Indian</text></g><g class="tick" opacity="1" transform="translate(460.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">Creek</text></g><g class="tick" opacity="1" transform="translate(560.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">Pakistani</text></g></g><g fill="none" font-size="10" font-family="sans-serif" text-anchor="end"><path class="domain" stroke="#000" d="M-6,450.5H0.5V0.5H-6"></path><g class="tick" opacity="1" transform="translate(0,450.5)"><line stroke="#000" x2="-6"></line><text fill="#000" x="-9" dy="0.32em">0</text></g><g class="tick" opacity="1" transform="translate(0,403.5)"><line stroke="#000" x2="-6"></line><text fill="#000" x="-9" dy="0.32em">100</text></g><g class="tick" opacity="1" transform="translate(0,356.5)"><line stroke="#000" x2="-6"></line><text fill="#000" x="-9" dy="0.32em">200</text></g><g class="tick" opacity="1" transform="translate(0,309.5)"><line stroke="#000" x2="-6"></line><text fill="#000" x="-9" dy="0.32em">300</text></g><g class="tick" opacity="1" transform="translate(0,262.5)"><line stroke="#000" x2="-6"></line><text fill="#000" x="-9" dy="0.32em">400</text></g><g class="tick" opacity="1" transform="translate(0,214.5)"><line stroke="#000" x2="-6"></line><text fill="#000" x="-9" dy="0.32em">500</text></g><g class="tick" opacity="1" transform="translate(0,167.5)"><line stroke="#000" x2="-6"></line><text fill="#000" x="-9" dy="0.32em">600</text></g><g class="tick" opacity="1" transform="translate(0,120.5)"><line stroke="#000" x2="-6"></line><text fill="#000" x="-9" dy="0.32em">700</text></g><g class="tick" opacity="1" transform="translate(0,73.5)"><line stroke="#000" x2="-6"></line><text fill="#000" x="-9" dy="0.32em">800</text></g><g class="tick" opacity="1" transform="translate(0,26.5)"><line stroke="#000" x2="-6"></line><text fill="#000" x="-9" dy="0.32em">900</text></g></g><text transform="rotate(-90)" y="6" dy="0.71em" text-anchor="end">Count</text><rect class="bar" x="20" y="199" fill="#1f77b4" width="80" height="251"></rect><rect class="bar" x="120" y="308" fill="#ff7f0e" width="80" height="142"></rect><rect class="bar" x="220" y="0" fill="#2ca02c" width="80" height="450"></rect><rect class="bar" x="320" y="372" fill="#d62728" width="80" height="78"></rect><rect class="bar" x="420" y="1" fill="#9467bd" width="80" height="449"></rect><rect class="bar" x="520" y="179" fill="#8c564b" width="80" height="271"></rect></g><g transform="translate(660,20)"><g fill="none" font-size="10" font-family="sans-serif" text-anchor="start"><path class="domain" stroke="#000" d="M6,450.5H0.5V0.5H6"></path><g class="tick" opacity="1" transform="translate(0,450.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">0%</text></g><g class="tick" opacity="1" transform="translate(0,417.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">2%</text></g><g class="tick" opacity="1" transform="translate(0,384.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">4%</text></g><g class="tick" opacity="1" transform="translate(0,351.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">6%</text></g><g class="tick" opacity="1" transform="translate(0,319.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">8%</text></g><g class="tick" opacity="1" transform="translate(0,286.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">10%</text></g><g class="tick" opacity="1" transform="translate(0,253.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">12%</text></g><g class="tick" opacity="1" transform="translate(0,220.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">14%</text></g><g class="tick" opacity="1" transform="translate(0,187.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">16%</text></g><g class="tick" opacity="1" transform="translate(0,154.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">18%</text></g><g class="tick" opacity="1" transform="translate(0,122.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">20%</text></g><g class="tick" opacity="1" transform="translate(0,89.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">22%</text></g><g class="tick" opacity="1" transform="translate(0,56.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">24%</text></g><g class="tick" opacity="1" transform="translate(0,23.5)"><line stroke="#000" x2="6"></line><text fill="#000" x="9" dy="0.32em">26%</text></g></g><text transform="rotate(-90)" y="-12" dy="0.71em" text-anchor="end" style="font-size: 11px;">Percentage</text></g></svg></div>
<script type="text/javascript">
	var	svg = d3.select(".container").append("svg")
			.attr("class", "vector")
			.attr("height", 500)
			.attr("width", 700);
	
	var	margin = {top: 20, right: 40, bottom: 30, left: 40},
		width = svg.attr("width") - margin.left - margin.right,
		height = svg.attr("height") - margin.top - margin.bottom;

	var color = d3.scaleOrdinal(d3.schemeCategory10);

	var	x = d3.scaleBand().rangeRound([0, width]).padding(0.2),
		y1 = d3.scaleLinear().rangeRound([height, 0]),
		y2 = d3.scaleLinear().rangeRound([height, 0]);

	var axisX = d3.axisLeft(y1).ticks(10);

	var axisRight = d3.axisRight(y2)
		.ticks(10)
		.tickFormat(d3.format(".0%"));

	var gL = svg.append("g")
			.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

	var gR = svg.append("g")
			.attr("transform", "translate(" + (width+margin.left) + "," + margin.top + ")");

	d3.json("data.json", function(error, data) {
		if(error) throw error;

		data.forEach(function(d) {
			d.percent = d.count / d3.sum(data, function(d) {return d.count});
		});

		x.domain(data.map(function(d) { return d.race; }));
		y1.domain([0, d3.max(data, function(d) { return d.count; })]);
		y2.domain([0, d3.max(data, function(d) { return d.percent; })]);

		gL.append("g")
			.attr("class", "x axis")
			.attr("transform", "translate(0," + height + ")")
			.call(d3.axisBottom(x));

		gL.append("g").call(axisX);
		
		gL.append("text")
				.attr("transform", "rotate(-90)")
				.attr("y", 6)
				.attr("dy", "0.71em")
				.attr("text-anchor", "end")
				.text("Count");

		gR.append("g").call(axisRight);
			
		gR.append("text")
				.attr("transform", "rotate(-90)")
				.style("font-size", "11px")
				.attr("y", -12)
				.attr("dy", "0.71em")
				.attr("text-anchor", "end")
				.text("Percentage");
		
		gL.selectAll(".bar")
			.data(data)
			.enter().append("rect")
				.attr("class", "bar")
				.attr("x", function(d) { return x(d.race); })
				.attr("y", function(d) { return y1(d.count); })
				.attr("fill", function(d) {return color(d.race)})
				.attr("width", x.bandwidth())
				.attr("height", function(d) { return height - y1(d.count); });
	});
</script>

</body></html>